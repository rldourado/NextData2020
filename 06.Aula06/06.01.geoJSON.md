

Operadores
----

- $geoWithin
- $near
- $nearSphere
- $geoIntersects




db.restaurants.find(
    {
        'location': {
            '$geoWithin': {
                '$box': [
                    [-74.77589381162099, 40.526263454726426],
                    [-73.25154078427724, 40.83868637681647]
                ]
            }
        }
    }
).count()

db.restaurants.find(
    {
        'location': {
            '$geoWithin': {
                '$polygon': [
                    [-74.03266558997932, 40.643720344780036],
                    [-74.03260637681451, 40.64369890119848],
                    [-74.02905539842813, 40.64172534305729],
                    [-74.02889666841016, 40.64121402181211],
                    [-74.02890829878068, 40.641173410835975],
                    [-74.02839277768001, 40.64096313663673],
                    [-74.02802775304896, 40.640793489727166],
                    [-74.02742711445242, 40.640514336673455],
                    [-74.02703439376477, 40.640349986267],
                    [-74.02691981311027, 40.640308508143384],
                    [-74.02674292455578, 40.64024446794469],
                    [-74.02662323844878, 40.640201135837465],
                    [-74.02626267340166, 40.640094381840456],
                    [-74.02628611968326, 40.640074528885734],
                    [-74.02635007613449, 40.64001846576372],
                    [-74.02646434970593, 40.639918293193475],
                    [-74.026599844028, 40.63978656111538],
                    [-74.02664251543534, 40.63974743250569],
                    [-74.02686129357207, 40.639536291066115],
                    [-74.02695244733718, 40.63944606454214],
                    [-74.02475437604834, 40.638121418091615],
                    [-74.02453841857533, 40.63832493709819],
                    [-74.02417094670035, 40.63866937087832],
                    [-74.02392610712153, 40.638898858183495],
                    [-74.02354939088754, 40.63932033369241],
                    [-74.02351787245729, 40.63944477391462],
                    [-74.02348203672626, 40.63953321280833],
                    [-74.0234682183412, 40.63956733547939],
                    [-74.02340085362947, 40.63968573184851],
                    [-74.02331683024384, 40.639797781724845],
                    [-74.02321780213283, 40.639901514603565],
                    [-74.02310593208485, 40.639995325926826],
                    [-74.02259016761796, 40.640439105534725],
                    [-74.02246253869197, 40.64053889908081],
                    [-74.0222879086973, 40.640638836128666],
                    [-74.02222562167672, 40.64067782250133],
                    [-74.02180903201882, 40.64095040903329],
                    [-74.0217267600026, 40.64100494154004],
                    [-74.02152001080438, 40.64115336788134],
                    [-74.0212011818474, 40.641386940279894],
                    [-74.02113625977435, 40.641433968243945],
                    [-74.02111136818495, 40.64145200172209],
                    [-74.0210805132591, 40.64149093663086],
                    [-74.02105802404685, 40.64147598331163],
                    [-74.02108520174131, 40.64144035374869],
                    [-74.02110519670632, 40.641414135736454],
                    [-74.02114153316334, 40.64136239477838],
                    [-74.02126975061375, 40.64117350193793],
                    [-74.021471330198, 40.64082961305206],
                    [-74.02159214518196, 40.640569209030325],
                    [-74.02161540343292, 40.64050926298686],
                    [-74.02166136865358, 40.6403743832243],
                    [-74.02170923859883, 40.64020009787961],
                    [-74.02172617345342, 40.64011332047683],
                    [-74.02176040850908, 40.639824346198495],
                    [-74.02174188966367, 40.63946629231509],
                    [-74.02173880479283, 40.63944050675102],
                    [-74.02170856691697, 40.63930090279182],
                    [-74.02170098661917, 40.639265460226774],
                    [-74.02167777172691, 40.63919125653436],
                    [-74.02164685082687, 40.63909104800689],
                    [-74.02160867715266, 40.63897677983418],
                    [-74.02154646748653, 40.638830162888745],
                    [-74.02150876401663, 40.63874907192934],
                    [-74.02141038300266, 40.63858490267279],
                    [-74.02129372116961, 40.63842824199146],
                    [-74.02116029833357, 40.63828079800589],
                    [-74.0211144452189, 40.63823553621953],
                    [-74.02107776152566, 40.63820262192847],
                    [-74.02099037581692, 40.63811974046638],
                    [-74.02084657571848, 40.63798335120003],
                    [-74.02059844414272, 40.63777414278908],
                    [-74.02032883796952, 40.63757296928749],
                    [-74.02002934963137, 40.63737936561021],
                    [-74.01976496043781, 40.63721743492739],
                    [-74.01962151024503, 40.637131064044695],
                    [-74.0195541071167, 40.63709122719834],
                    [-74.0189954681269, 40.63675410406234],
                    [-74.01799939190742, 40.636157921944466],
                    [-74.01755212626337, 40.63588725076572],
                    [-74.01750323346394, 40.63585616475802],
                    [-74.0172726945323, 40.635695676807075],
                    [-74.01705633769714, 40.63553095703087],
                    [-74.0168440621968, 40.63536231289637],
                    [-74.0166760303576, 40.635186705001686],
                    [-74.01660869456472, 40.635118834029456],
                    [-74.01650516128862, 40.634991506646266],
                    [-74.01646523008979, 40.63494240707719],
                    [-74.01633863267672, 40.634756161044926],
                    [-74.01626769025657, 40.63462840563036],
                    [-74.01623055737043, 40.63456153030108],
                    [-74.01614231507423, 40.63436015883844],
                    [-74.01607491124064, 40.63415382336943],
                    [-74.01602896363573, 40.633944431491905],
                    [-74.01600468099345, 40.6337339124611],
                    [-74.01600191117996, 40.63352419071242],
                    [-74.01602010138629, 40.63331711366199],
                    [-74.01591473467845, 40.63336554907508],
                    [-74.01560204969233, 40.633516977941504],
                    [-74.01514630680121, 40.63322193848727],
                    [-74.01542409802907, 40.63251313909733],
                    [-74.01574804336556, 40.63176426971403],
                    [-74.01604820334822, 40.63103288864481],
                    [-74.0163432232505, 40.63028559593122],
                    [-74.01664336473857, 40.6295760786951],
                    [-74.01692644799819, 40.62883563868562],
                    [-74.01696955052003, 40.62872878591187],
                    [-74.01722288034084, 40.628100689353055],
                    [-74.01784193302115, 40.62659069437665],
                    [-74.01875180668249, 40.624317511376],
                    [-74.0187927156488, 40.62422469662925],
                    [-74.01907578304653, 40.62361467353488],
                    [-74.01938702927673, 40.62289181919972],
                    [-74.0197049155713, 40.62218496500806],
                    [-74.02008667202553, 40.62242095266201],
                    [-74.0206233103417, 40.62180625156349],
                    [-74.02090368274185, 40.62152616686236],
                    [-74.02117699394131, 40.62125785686006],
                    [-74.02172925531505, 40.620679452638704],
                    [-74.02180154239181, 40.620603166108914],
                    [-74.02227378599942, 40.62010905862058],
                    [-74.0228759867753, 40.61946614790893],
                    [-74.02363350473841, 40.61853764827985],
                    [-74.02387366993624, 40.61825931952604],
                    [-74.0246246125293, 40.61738902401652],
                    [-74.02525327108914, 40.616678457892164],
                    [-74.02574988994118, 40.61605822319561],
                    [-74.02607013070826, 40.6154866669526],
                    [-74.02624732375942, 40.61510478138761],
                    [-74.02651463147971, 40.61467032683148],
                    [-74.02736880386094, 40.61323451610886],
                    [-74.02754297128627, 40.612937183204295],
                    [-74.02653228216728, 40.61242537076809],
                    [-74.02637609057152, 40.612450603402046],
                    [-74.02710660490857, 40.61024395632428],
                    [-74.0249793245522, 40.60974197518831],
                    [-74.02478376263241, 40.6096996290043],
                    [-74.02457855492975, 40.610223301974806],
                    [-74.02459593815628, 40.61010922459506],
                    [-74.02459441688825, 40.609992040914996],
                    [-74.02457307668429, 40.609874528759754],
                    [-74.02453195982463, 40.609759595407226],
                    [-74.02447207511443, 40.60965008258313],
                    [-74.02439534326797, 40.60954853495111],
                    [-74.02430437545299, 40.60945696914196],
                    [-74.02150602890865, 40.607822098832884],
                    [-74.02247769425485, 40.60667421564771],
                    [-74.02078540907317, 40.60567368551233],
                    [-74.02122508359139, 40.60473806226646],
                    [-74.02139467231528, 40.60449399877182],
                    [-74.02129949141421, 40.60442832294206],
                    [-74.02053583504636, 40.60419641858651],
                    [-74.01924239456817, 40.603778501241294],
                    [-74.01918971417956, 40.603761839733316],
                    [-74.01912316533561, 40.603739770660574],
                    [-74.01869135708252, 40.603607923939414],
                    [-74.01871382223196, 40.603582075907354],
                    [-74.01917685113895, 40.603154422802966],
                    [-74.01918088947593, 40.60314959511343],
                    [-74.0192315032534, 40.603102174247695],
                    [-74.0193934350534, 40.602911761281796],
                    [-74.0194276088975, 40.60287157834795],
                    [-74.01974772844801, 40.603084809263855],
                    [-74.02010437562551, 40.60325955247395],
                    [-74.02024692223934, 40.603324317823706],
                    [-74.02039384996743, 40.60338312117942],
                    [-74.02054472997139, 40.60343579090725],
                    [-74.02069912187368, 40.60348217327569],
                    [-74.02085657504331, 40.60352213290433],
                    [-74.02101662991147, 40.60355555315918],
                    [-74.02117881931318, 40.6035823364932],
                    [-74.0213426698513, 40.60360240473105],
                    [-74.02150770327859, 40.60361569929747],
                    [-74.02514668248178, 40.60408312372734],
                    [-74.02930882862748, 40.60459906406186],
                    [-74.03005146547684, 40.604759173811956],
                    [-74.0308851121656, 40.60518456375302],
                    [-74.03101612271284, 40.60525141411518],
                    [-74.0314347165998, 40.605529466308134],
                    [-74.03179633794441, 40.60578027459593],
                    [-74.03186039997438, 40.60581118472863],
                    [-74.03213159551291, 40.60590183576165],
                    [-74.03270681479884, 40.60633106603806],
                    [-74.03359224082006, 40.60708260743885],
                    [-74.0337835067922, 40.60725434988598],
                    [-74.03427280539475, 40.60771747873291],
                    [-74.03435536043457, 40.607822974390785],
                    [-74.03443004633819, 40.607931823152775],
                    [-74.03449662936791, 40.60804368442155],
                    [-74.03453929685554, 40.60814055535537],
                    [-74.0345901403693, 40.60823510641046],
                    [-74.03464894467045, 40.60832693725506],
                    [-74.03471546081116, 40.608415659073025],
                    [-74.03478940718794, 40.6085008962107],
                    [-74.03487047073375, 40.60858228776723],
                    [-74.03495830824306, 40.60865948912304],
                    [-74.0350525478249, 40.608732173399105],
                    [-74.0351527904773, 40.60880003284112],
                    [-74.03525861177654, 40.60886278012296],
                    [-74.03530371251398, 40.608888235269156],
                    [-74.03535170243794, 40.60891041067599],
                    [-74.03540217219026, 40.60892911718408],
                    [-74.03547715433353, 40.60894504876653],
                    [-74.03554940978239, 40.6089671168853],
                    [-74.03561807675682, 40.608995058338145],
                    [-74.03568233627307, 40.6090285398723],
                    [-74.03574142191115, 40.60906716215887],
                    [-74.03579462895554, 40.60911046455533],
                    [-74.03603977777915, 40.60929563900185],
                    [-74.03608058166905, 40.60934688638744],
                    [-74.03611335501404, 40.60939472890948],
                    [-74.03621010288072, 40.609601041116974],
                    [-74.03629809451574, 40.609809617942126],
                    [-74.03637723880084, 40.61002024359199],
                    [-74.03644745376874, 40.610232700151876],
                    [-74.03650866668839, 40.61044676781078],
                    [-74.0365629009667, 40.610587586531864],
                    [-74.03662541025834, 40.61072639877738],
                    [-74.03669606750763, 40.610862922285534],
                    [-74.0367747290882, 40.61099687944676],
                    [-74.03686123509466, 40.61112799786827],
                    [-74.03695540966756, 40.611256010928166],
                    [-74.0370570613505, 40.61138065831754],
                    [-74.03716598347928, 40.611501686570065],
                    [-74.03728195460197, 40.61161884957742],
                    [-74.03740473892886, 40.611731909089926],
                    [-74.0375340868119, 40.6118406352011],
                    [-74.03873050931428, 40.612943761342095],
                    [-74.03892016103423, 40.6131416715866],
                    [-74.03920557647395, 40.61343951273367],
                    [-74.03944150515281, 40.61377594419186],
                    [-74.03982365089749, 40.6143273886638],
                    [-74.04023427278447, 40.615028256649275],
                    [-74.04038132338678, 40.615341782328386],
                    [-74.04047612021486, 40.61562526316147],
                    [-74.04072760517789, 40.61705041589272],
                    [-74.04086140769225, 40.61763076528496],
                    [-74.04101750654692, 40.61830780552468],
                    [-74.041127772883, 40.61878605611298],
                    [-74.04137522891591, 40.61999355296523],
                    [-74.04143385992096, 40.620083282106584],
                    [-74.04148540015983, 40.62017550417747],
                    [-74.04152966796569, 40.62026989417058],
                    [-74.04156650729895, 40.62036611943704],
                    [-74.04159578829771, 40.620463840858676],
                    [-74.04161740773569, 40.620562714043125],
                    [-74.0416221976372, 40.62066875807828],
                    [-74.0416233689153, 40.62077486115013],
                    [-74.0416178557562, 40.62094225903332],
                    [-74.04160333814038, 40.62110934382445],
                    [-74.04157984042503, 40.62127583441747],
                    [-74.04159968131134, 40.62146631518376],
                    [-74.04167119741669, 40.62209180591905],
                    [-74.04174932346254, 40.62245699566946],
                    [-74.04169490179855, 40.622802456228335],
                    [-74.04170832517204, 40.62324493419506],
                    [-74.04171015812469, 40.623305320611784],
                    [-74.04175794013358, 40.62342832085232],
                    [-74.04179876821127, 40.62355276684097],
                    [-74.04183256747058, 40.62367843043708],
                    [-74.0418592759089, 40.62380508126662],
                    [-74.04187884452192, 40.623932487144344],
                    [-74.04189123739393, 40.62406041449951],
                    [-74.04189643176389, 40.62418862880397],
                    [-74.04189513119617, 40.62429902670363],
                    [-74.04188849293071, 40.624409313125796],
                    [-74.0418765259563, 40.62451933829389],
                    [-74.0417566930148, 40.625055060198854],
                    [-74.04168321534902, 40.625383542174546],
                    [-74.04164207726826, 40.626009357924744],
                    [-74.04156624733882, 40.626743594155165],
                    [-74.04142918710248, 40.628070665156926],
                    [-74.04141650353665, 40.62814996054545],
                    [-74.0413029338523, 40.62886001369012],
                    [-74.04127701609359, 40.62902206057004],
                    [-74.04109062117574, 40.62972570042863],
                    [-74.04110307519076, 40.629818740500895],
                    [-74.04110655511697, 40.62991222556035],
                    [-74.04110104223886, 40.630005653844705],
                    [-74.04108656610823, 40.630098523894304],
                    [-74.04106320438625, 40.63019033724365],
                    [-74.04103108242748, 40.630280601096906],
                    [-74.04099037260781, 40.63036883097296],
                    [-74.04094129339997, 40.630454553305945],
                    [-74.04088410820154, 40.63053730798732],
                    [-74.04081912392171, 40.63061665083539],
                    [-74.04074668933454, 40.63069215597988],
                    [-74.04065885393267, 40.63088875293376],
                    [-74.04028911535318, 40.631716304576265],
                    [-74.04015481009851, 40.63201690156304],
                    [-74.0399179062502, 40.63253444320451],
                    [-74.039293886904, 40.63388635429641],
                    [-74.0384323056841, 40.6356851886395],
                    [-74.03816058598164, 40.63624398008179],
                    [-74.03783376084682, 40.636916083330625],
                    [-74.03745424937442, 40.63769651530722],
                    [-74.03708957847086, 40.638446409444995],
                    [-74.03680662048852, 40.638984221545485],
                    [-74.03876297920756, 40.63958825898051],
                    [-74.03868804690734, 40.639738256029574],
                    [-74.03672484374883, 40.63914119020668],
                    [-74.03660641448873, 40.63936301846842],
                    [-74.036479491802, 40.6395821042405],
                    [-74.03634418489833, 40.639798258868964],
                    [-74.03620061021041, 40.64001129622194],
                    [-74.03608560956958, 40.64017159101665],
                    [-74.03596592756163, 40.64032988487277],
                    [-74.03584162412298, 40.640486098473524],
                    [-74.03571276150703, 40.64064015354389],
                    [-74.03597990789541, 40.640940050544465],
                    [-74.03634712296503, 40.64114331106438],
                    [-74.03673442685158, 40.641458421718845],
                    [-74.03675181350984, 40.64147755281438],
                    [-74.03676491264972, 40.641498572877786],
                    [-74.03677337985856, 40.641520929240166],
                    [-74.03677699250781, 40.641544034097436],
                    [-74.03677565560682, 40.6415672799651],
                    [-74.03676940430095, 40.64159005565059],
                    [-74.03675840294817, 40.64161176232296],
                    [-74.03674294079791, 40.6416318292578],
                    [-74.03672342438661, 40.6416497288431],
                    [-74.03670036684893, 40.64166499045179],
                    [-74.03445193181362, 40.64382678668229],
                    [-74.03453829739405, 40.643876381510026],
                    [-74.03407329294261, 40.6443139329639],
                    [-74.03284291947881, 40.64356371035077],
                    [-74.03266558997932, 40.643720344780036]                   
                ]
            }
        }
    }
).count()
